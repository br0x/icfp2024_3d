(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))_(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&_(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function _(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var ce,$,Ze,V,Ae,Ke,he,ke,ve,me,Q={},Ge=[],vt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ae=Array.isArray;function z(e,t){for(var n in t)e[n]=t[n];return e}function Je(e){var t=e.parentNode;t&&t.removeChild(e)}function ye(e,t,n){var _,r,o,s={};for(o in t)o=="key"?_=t[o]:o=="ref"?r=t[o]:s[o]=t[o];if(arguments.length>2&&(s.children=arguments.length>3?ce.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)s[o]===void 0&&(s[o]=e.defaultProps[o]);return _e(e,s,_,r,null)}function _e(e,t,n,_,r){var o={type:e,props:t,key:n,ref:_,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r??++Ze,__i:-1,__u:0};return r==null&&$.vnode!=null&&$.vnode(o),o}function j(e){return e.children}function D(e,t){this.props=e,this.context=t}function X(e,t){if(t==null)return e.__?X(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?X(e):null}function Qe(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Qe(e)}}function Ee(e){(!e.__d&&(e.__d=!0)&&V.push(e)&&!le.__r++||Ae!==$.debounceRendering)&&((Ae=$.debounceRendering)||Ke)(le)}function le(){var e,t,n,_,r,o,s,l;for(V.sort(he);e=V.shift();)e.__d&&(t=V.length,_=void 0,o=(r=(n=e).__v).__e,s=[],l=[],n.__P&&((_=z({},r)).__v=r.__v+1,$.vnode&&$.vnode(_),we(n.__P,_,r,n.__n,n.__P.namespaceURI,32&r.__u?[o]:null,s,o??X(r),!!(32&r.__u),l),_.__v=r.__v,_.__.__k[_.__i]=_,nt(s,_,l),_.__e!=o&&Qe(_)),V.length>t&&V.sort(he));le.__r=0}function et(e,t,n,_,r,o,s,l,u,c,v){var i,b,d,k,x,S=_&&_.__k||Ge,a=t.length;for(n.__d=u,mt(n,t,S),u=n.__d,i=0;i<a;i++)(d=n.__k[i])!=null&&typeof d!="boolean"&&typeof d!="function"&&(b=d.__i===-1?Q:S[d.__i]||Q,d.__i=i,we(e,d,b,r,o,s,l,u,c,v),k=d.__e,d.ref&&b.ref!=d.ref&&(b.ref&&$e(b.ref,null,d),v.push(d.ref,d.__c||k,d)),x==null&&k!=null&&(x=k),65536&d.__u||b.__k===d.__k?(u&&typeof d.type=="string"&&!e.contains(u)&&(u=X(b)),u=tt(d,u,e)):typeof d.type=="function"&&d.__d!==void 0?u=d.__d:k&&(u=k.nextSibling),d.__d=void 0,d.__u&=-196609);n.__d=u,n.__e=x}function mt(e,t,n){var _,r,o,s,l,u=t.length,c=n.length,v=c,i=0;for(e.__k=[],_=0;_<u;_++)s=_+i,(r=e.__k[_]=(r=t[_])==null||typeof r=="boolean"||typeof r=="function"?null:typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?_e(null,r,null,null,null):ae(r)?_e(j,{children:r},null,null,null):r.constructor===void 0&&r.__b>0?_e(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r)!=null?(r.__=e,r.__b=e.__b+1,l=yt(r,n,s,v),r.__i=l,o=null,l!==-1&&(v--,(o=n[l])&&(o.__u|=131072)),o==null||o.__v===null?(l==-1&&i--,typeof r.type!="function"&&(r.__u|=65536)):l!==s&&(l==s-1?i=l-s:l==s+1?i++:l>s?v>u-s?i+=l-s:i--:l<s&&i++,l!==_+i&&(r.__u|=65536))):(o=n[s])&&o.key==null&&o.__e&&!(131072&o.__u)&&(o.__e==e.__d&&(e.__d=X(o)),ge(o,o,!1),n[s]=null,v--);if(v)for(_=0;_<c;_++)(o=n[_])!=null&&!(131072&o.__u)&&(o.__e==e.__d&&(e.__d=X(o)),ge(o,o))}function tt(e,t,n){var _,r;if(typeof e.type=="function"){for(_=e.__k,r=0;_&&r<_.length;r++)_[r]&&(_[r].__=e,t=tt(_[r],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function se(e,t){return t=t||[],e==null||typeof e=="boolean"||(ae(e)?e.some(function(n){se(n,t)}):t.push(e)),t}function yt(e,t,n,_){var r=e.key,o=e.type,s=n-1,l=n+1,u=t[n];if(u===null||u&&r==u.key&&o===u.type&&!(131072&u.__u))return n;if(_>(u!=null&&!(131072&u.__u)?1:0))for(;s>=0||l<t.length;){if(s>=0){if((u=t[s])&&!(131072&u.__u)&&r==u.key&&o===u.type)return s;s--}if(l<t.length){if((u=t[l])&&!(131072&u.__u)&&r==u.key&&o===u.type)return l;l++}}return-1}function Me(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||vt.test(t)?n:n+"px"}function oe(e,t,n,_,r){var o;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof _=="string"&&(e.style.cssText=_=""),_)for(t in _)n&&t in n||Me(e.style,t,"");if(n)for(t in n)_&&n[t]===_[t]||Me(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")o=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||t==="onFocusOut"||t==="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?_?n.u=_.u:(n.u=ke,e.addEventListener(t,o?me:ve,o)):e.removeEventListener(t,o?me:ve,o);else{if(r=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function Ce(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=ke++;else if(t.t<n.u)return;return n($.event?$.event(t):t)}}}function we(e,t,n,_,r,o,s,l,u,c){var v,i,b,d,k,x,S,a,f,m,y,p,g,M,B,T,H=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(u=!!(32&n.__u),o=[l=t.__e=n.__e]),(v=$.__b)&&v(t);e:if(typeof H=="function")try{if(a=t.props,f="prototype"in H&&H.prototype.render,m=(v=H.contextType)&&_[v.__c],y=v?m?m.props.value:v.__:_,n.__c?S=(i=t.__c=n.__c).__=i.__E:(f?t.__c=i=new H(a,y):(t.__c=i=new D(a,y),i.constructor=H,i.render=bt),m&&m.sub(i),i.props=a,i.state||(i.state={}),i.context=y,i.__n=_,b=i.__d=!0,i.__h=[],i._sb=[]),f&&i.__s==null&&(i.__s=i.state),f&&H.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=z({},i.__s)),z(i.__s,H.getDerivedStateFromProps(a,i.__s))),d=i.props,k=i.state,i.__v=t,b)f&&H.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),f&&i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(f&&H.getDerivedStateFromProps==null&&a!==d&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(a,y),!i.__e&&(i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(a,i.__s,y)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(i.props=a,i.state=i.__s,i.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(W){W&&(W.__=t)}),p=0;p<i._sb.length;p++)i.__h.push(i._sb[p]);i._sb=[],i.__h.length&&s.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(a,i.__s,y),f&&i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(d,k,x)})}if(i.context=y,i.props=a,i.__P=e,i.__e=!1,g=$.__r,M=0,f){for(i.state=i.__s,i.__d=!1,g&&g(t),v=i.render(i.props,i.state,i.context),B=0;B<i._sb.length;B++)i.__h.push(i._sb[B]);i._sb=[]}else do i.__d=!1,g&&g(t),v=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++M<25);i.state=i.__s,i.getChildContext!=null&&(_=z(z({},_),i.getChildContext())),f&&!b&&i.getSnapshotBeforeUpdate!=null&&(x=i.getSnapshotBeforeUpdate(d,k)),et(e,ae(T=v!=null&&v.type===j&&v.key==null?v.props.children:v)?T:[T],t,n,_,r,o,s,l,u,c),i.base=t.__e,t.__u&=-161,i.__h.length&&s.push(i),S&&(i.__E=i.__=null)}catch(W){t.__v=null,u||o!=null?(t.__e=l,t.__u|=u?160:32,o[o.indexOf(l)]=null):(t.__e=n.__e,t.__k=n.__k),$.__e(W,t,n)}else o==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=gt(n.__e,t,n,_,r,o,s,u,c);(v=$.diffed)&&v(t)}function nt(e,t,n){t.__d=void 0;for(var _=0;_<n.length;_++)$e(n[_],n[++_],n[++_]);$.__c&&$.__c(t,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(o){o.call(r)})}catch(o){$.__e(o,r.__v)}})}function gt(e,t,n,_,r,o,s,l,u){var c,v,i,b,d,k,x,S=n.props,a=t.props,f=t.type;if(f==="svg"?r="http://www.w3.org/2000/svg":f==="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),o!=null){for(c=0;c<o.length;c++)if((d=o[c])&&"setAttribute"in d==!!f&&(f?d.localName===f:d.nodeType===3)){e=d,o[c]=null;break}}if(e==null){if(f===null)return document.createTextNode(a);e=document.createElementNS(r,f,a.is&&a),o=null,l=!1}if(f===null)S===a||l&&e.data===a||(e.data=a);else{if(o=o&&ce.call(e.childNodes),S=n.props||Q,!l&&o!=null)for(S={},c=0;c<e.attributes.length;c++)S[(d=e.attributes[c]).name]=d.value;for(c in S)if(d=S[c],c!="children"){if(c=="dangerouslySetInnerHTML")i=d;else if(c!=="key"&&!(c in a)){if(c=="value"&&"defaultValue"in a||c=="checked"&&"defaultChecked"in a)continue;oe(e,c,null,d,r)}}for(c in a)d=a[c],c=="children"?b=d:c=="dangerouslySetInnerHTML"?v=d:c=="value"?k=d:c=="checked"?x=d:c==="key"||l&&typeof d!="function"||S[c]===d||oe(e,c,d,S[c],r);if(v)l||i&&(v.__html===i.__html||v.__html===e.innerHTML)||(e.innerHTML=v.__html),t.__k=[];else if(i&&(e.innerHTML=""),et(e,ae(b)?b:[b],t,n,_,f==="foreignObject"?"http://www.w3.org/1999/xhtml":r,o,s,o?o[0]:n.__k&&X(n,0),l,u),o!=null)for(c=o.length;c--;)o[c]!=null&&Je(o[c]);l||(c="value",k!==void 0&&(k!==e[c]||f==="progress"&&!k||f==="option"&&k!==S[c])&&oe(e,c,k,S[c],r),c="checked",x!==void 0&&x!==e[c]&&oe(e,c,x,S[c],r))}return e}function $e(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(_){$.__e(_,n)}}function ge(e,t,n){var _,r;if($.unmount&&$.unmount(e),(_=e.ref)&&(_.current&&_.current!==e.__e||$e(_,null,t)),(_=e.__c)!=null){if(_.componentWillUnmount)try{_.componentWillUnmount()}catch(o){$.__e(o,t)}_.base=_.__P=null}if(_=e.__k)for(r=0;r<_.length;r++)_[r]&&ge(_[r],t,n||typeof e.type!="function");n||e.__e==null||Je(e.__e),e.__c=e.__=e.__e=e.__d=void 0}function bt(e,t,n){return this.constructor(e,n)}function kt(e,t,n){var _,r,o,s;$.__&&$.__(e,t),r=(_=typeof n=="function")?null:t.__k,o=[],s=[],we(t,e=(!_&&n||t).__k=ye(j,null,[e]),r||Q,Q,t.namespaceURI,!_&&n?[n]:r?null:t.firstChild?ce.call(t.childNodes):null,o,!_&&n?n:r?r.__e:t.firstChild,_,s),nt(o,e,s)}ce=Ge.slice,$={__e:function(e,t,n,_){for(var r,o,s;t=t.__;)if((r=t.__c)&&!r.__)try{if((o=r.constructor)&&o.getDerivedStateFromError!=null&&(r.setState(o.getDerivedStateFromError(e)),s=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(e,_||{}),s=r.__d),s)return r.__E=r}catch(l){e=l}throw e}},Ze=0,D.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=z({},this.state),typeof e=="function"&&(e=e(z({},n),this.props)),e&&z(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Ee(this))},D.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Ee(this))},D.prototype.render=j,V=[],Ke=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,he=function(e,t){return e.__v.__b-t.__v.__b},le.__r=0,ke=0,ve=Ce(!1),me=Ce(!0);var wt=0;function A(e,t,n,_,r,o){t||(t={});var s,l,u=t;if("ref"in u)for(l in u={},t)l=="ref"?s=t[l]:u[l]=t[l];var c={type:e,props:u,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--wt,__i:-1,__u:0,__source:r,__self:o};if(typeof e=="function"&&(s=e.defaultProps))for(l in s)u[l]===void 0&&(u[l]=s[l]);return $.vnode&&$.vnode(c),c}var ee,I,pe,xe,ue=0,ot=[],L=$,Pe=L.__b,Ne=L.__r,Ie=L.diffed,Le=L.__c,He=L.unmount,Be=L.__;function Se(e,t){L.__h&&L.__h(I,e,ue||t),ue=0;var n=I.__H||(I.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function U(e){return ue=1,$t(it,e)}function $t(e,t,n){var _=Se(ee++,2);if(_.t=e,!_.__c&&(_.__=[n?n(t):it(void 0,t),function(l){var u=_.__N?_.__N[0]:_.__[0],c=_.t(u,l);u!==c&&(_.__N=[c,_.__[1]],_.__c.setState({}))}],_.__c=I,!I.u)){var r=function(l,u,c){if(!_.__c.__H)return!0;var v=_.__c.__H.__.filter(function(b){return!!b.__c});if(v.every(function(b){return!b.__N}))return!o||o.call(this,l,u,c);var i=!1;return v.forEach(function(b){if(b.__N){var d=b.__[0];b.__=b.__N,b.__N=void 0,d!==b.__[0]&&(i=!0)}}),!(!i&&_.__c.props===l)&&(!o||o.call(this,l,u,c))};I.u=!0;var o=I.shouldComponentUpdate,s=I.componentWillUpdate;I.componentWillUpdate=function(l,u,c){if(this.__e){var v=o;o=void 0,r(l,u,c),o=v}s&&s.call(this,l,u,c)},I.shouldComponentUpdate=r}return _.__N||_.__}function rt(e,t){var n=Se(ee++,3);!L.__s&&_t(n.__H,t)&&(n.__=e,n.i=t,I.__H.__h.push(n))}function St(e){return ue=5,At(function(){return{current:e}},[])}function At(e,t){var n=Se(ee++,7);return _t(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function Et(){for(var e;e=ot.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(ie),e.__H.__h.forEach(be),e.__H.__h=[]}catch(t){e.__H.__h=[],L.__e(t,e.__v)}}L.__b=function(e){I=null,Pe&&Pe(e)},L.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Be&&Be(e,t)},L.__r=function(e){Ne&&Ne(e),ee=0;var t=(I=e.__c).__H;t&&(pe===I?(t.__h=[],I.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(t.__h.forEach(ie),t.__h.forEach(be),t.__h=[],ee=0)),pe=I},L.diffed=function(e){Ie&&Ie(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(ot.push(t)!==1&&xe===L.requestAnimationFrame||((xe=L.requestAnimationFrame)||Mt)(Et)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),pe=I=null},L.__c=function(e,t){t.some(function(n){try{n.__h.forEach(ie),n.__h=n.__h.filter(function(_){return!_.__||be(_)})}catch(_){t.some(function(r){r.__h&&(r.__h=[])}),t=[],L.__e(_,n.__v)}}),Le&&Le(e,t)},L.unmount=function(e){He&&He(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(_){try{ie(_)}catch(r){t=r}}),n.__H=void 0,t&&L.__e(t,n.__v))};var Te=typeof requestAnimationFrame=="function";function Mt(e){var t,n=function(){clearTimeout(_),Te&&cancelAnimationFrame(t),setTimeout(e)},_=setTimeout(n,100);Te&&(t=requestAnimationFrame(n))}function ie(e){var t=I,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),I=t}function be(e){var t=I;e.__c=e.__(),I=t}function _t(e,t){return!e||e.length!==t.length||t.some(function(n,_){return n!==e[_]})}function it(e,t){return typeof t=="function"?t(e):t}class C{constructor(t=" ",n=!1){this.value=t,this.dirty=n}toString(){return typeof this.value=="bigint"?this.value.toString():this.value===" "?" ":this.value}}var w=(e=>(e.Empty=" ",e.Left="<",e.Right=">",e.Up="^",e.Down="v",e.Add="+",e.Sub="-",e.Mul="*",e.Div="/",e.Mod="%",e.Warp="@",e.Eq="=",e.NEq="#",e.Solve="S",e.A="A",e.B="B",e))(w||{});const lt=new Set(Object.values(w));function te(e){if(e.size===0)return[0,0,0,0];let t=-1/0,n=-1/0,_=1/0,r=1/0;for(const o of e.keys()){const[s,l]=o.split(",").map(Number);t=Math.max(t,s),n=Math.max(n,l),_=Math.min(_,s),r=Math.min(r,l)}return[t-_+1,n-r+1,_,r]}function Ct(e){if(e.size===0)return[];const[t,n,_,r]=te(e),o=Array(n).fill(null).map(()=>Array(t).fill(null).map(()=>new C(w.Empty)));for(const[s,l]of e){const[u,c]=s.split(",").map(Number);o[c-r][u-_]=l}return o}function O(e,t){return e.get(`${t.x},${t.y}`)}function xt(e,t){return e.has(`${t.x},${t.y}`)}function Re(e){const t=new Map;return e.replace(/^solve.*?\n/i,"").split(`
`).forEach((n,_)=>{n.trim().split(/\s+/).forEach((r,o)=>{r!=="."&&r!==""&&t.set(`${o},${_}`,new C(lt.has(r)?r:BigInt(r)))})}),t}function Ue(e){if(e.size===0)return".";let t=1/0,n=1/0,_=-1/0,r=-1/0;for(const s of e.keys()){const[l,u]=s.split(",").map(Number);t=Math.min(t,l),_=Math.max(_,l),n=Math.min(n,u),r=Math.max(r,u)}const o=[];for(let s=n;s<=r;s++){const l=[];for(let u=t;u<=_;u++){const c=e.get(`${u},${s}`);l.push(c?c.value===w.Empty?".":c.toString():".")}for(;l.length>0&&l[l.length-1]===".";)l.pop();o.push(l.length>0?l.join(" "):".")}for(;o.length>0&&o[o.length-1]===".";)o.pop();return o.join(`
`)||"."}function Pt(e,t){var n,_;if(e.size!==t.size)return!1;for(const r of e.keys())if(!t.has(r)||((n=e.get(r))==null?void 0:n.value)!==((_=t.get(r))==null?void 0:_.value))return!1;return!0}var J;(e=>{function t(_,r,o){var l;let s=new Map;for(const u of _.keys()){const c=(l=_.get(u))==null?void 0:l.value;c===w.A?s.set(u,new C(BigInt(r))):c===w.B?s.set(u,new C(BigInt(o))):s.set(u,new C(c))}return s}e.initialize=t;function n(_,r){var S;let o=r[_][0],s,l=new Map;for(const a of o.keys())o.set(a,new C((S=o.get(a))==null?void 0:S.value));function u(a,f,m){var p,g;const y=`${a},${f}`;if(((p=o.get(y))==null?void 0:p.value)===w.Solve){let M=m.value;if(typeof M=="bigint"){if(s!==void 0&&s!==M)throw new Error("TooManySubmits");s=M}}if((g=l.get(y))!=null&&g.dirty)throw new Error(`multiple writes to ${y}`);l.set(y,new C(m.value,!0))}function c(a,f,m){var g;const y=`${a},${f}`;let p=m.value;if(((g=l.get(y))==null?void 0:g.value)===w.Solve&&typeof p=="bigint"){if(s!==void 0&&s!==p)throw new Error("TooManySubmits");s=p}l.set(y,new C(p,!0))}function v(a,f,m,y){const p=a-m,g=f-y;if(m=a+m,y=f+y,xt(o,{x:p,y:g})){const M=O(o,{x:p,y:g});o.set(`${p},${g}`,new C(M.value,!0)),u(m,y,M)}}function i(a,f,m){const y=O(o,{x:a-1,y:f}),p=O(o,{x:a,y:f-1});if(typeof(y==null?void 0:y.value)!="bigint"||typeof(p==null?void 0:p.value)!="bigint")return;const g=y.value,M=p.value;o.set(`${a-1},${f}`,new C(g,!0)),o.set(`${a},${f-1}`,new C(M,!0));const B=m(g,M);if(B===void 0)return;const T=new C(B,!0);u(a,f+1,T),u(a+1,f,T)}function b(a,f,m){const y=O(o,{x:a-1,y:f}),p=O(o,{x:a,y:f-1});if(typeof(y==null?void 0:y.value)!="bigint"||typeof(p==null?void 0:p.value)!="bigint")return;const g=y.value,M=p.value;if(M==0n)return;o.set(`${a-1},${f}`,new C(g,!0)),o.set(`${a},${f-1}`,new C(M,!0));const B=m(g,M);if(B===void 0)return;const T=new C(B,!0);u(a,f+1,T),u(a+1,f,T)}function d(a,f,m){var g,M;const y=(g=O(o,{x:a-1,y:f}))==null?void 0:g.value,p=(M=O(o,{x:a,y:f-1}))==null?void 0:M.value;if(!(y===void 0||p===void 0)){if(m){if(y!==p)return}else if(y===p)return;o.set(`${a-1},${f}`,new C(y,!0)),o.set(`${a},${f-1}`,new C(p,!0)),u(a,f+1,new C(y,!0)),u(a+1,f,new C(p,!0))}}const k=[];function x(a,f){var M,B,T,H;const m=(M=o.get(`${a-1},${f}`))==null?void 0:M.value;if(typeof m!="bigint")return;const y=(B=o.get(`${a+1},${f}`))==null?void 0:B.value;if(typeof y!="bigint")return;const p=(T=o.get(`${a},${f-1}`))==null?void 0:T.value;if(p===void 0||p===w.Empty)return;const g=(H=o.get(`${a},${f+1}`))==null?void 0:H.value;typeof g=="bigint"&&(o.set(`${a-1},${f}`,new C(m,!0)),o.set(`${a+1},${f}`,new C(y,!0)),o.set(`${a},${f-1}`,new C(p,!0)),o.set(`${a},${f+1}`,new C(g,!0)),k.push({x:a-Number(m),y:f-Number(y),v:p,dt:Number(g)}))}for(const a of o.keys()){const[f,m]=a.split(",").map(Number),y=o.get(a);switch(y.value){case w.Empty:break;case w.A:break;case w.B:break;case w.Up:v(f,m,0,-1);break;case w.Down:v(f,m,0,1);break;case w.Left:v(f,m,-1,0);break;case w.Right:v(f,m,1,0);break;case w.Add:i(f,m,(p,g)=>p+g);break;case w.Sub:i(f,m,(p,g)=>p-g);break;case w.Mul:i(f,m,(p,g)=>p*g);break;case w.Div:b(f,m,(p,g)=>p/g);break;case w.Mod:b(f,m,(p,g)=>p%g);break;case w.Eq:d(f,m,!0);break;case w.NEq:d(f,m,!1);break;case w.Solve:break;case w.Warp:x(f,m);break;default:if(typeof y.value=="bigint")break;throw new Error(`unhandled op: ${y}`)}}for(const a of o.keys()){const f=o.get(a);if(f.dirty)continue;const m=f.value;switch(m){case w.Up:case w.Down:case w.Left:case w.Right:case w.Add:case w.Sub:case w.Mul:case w.Div:case w.Mod:case w.Eq:case w.NEq:case w.Solve:case w.Warp:l.set(a,new C(m));break;default:if(typeof m=="bigint"){l.set(a,new C(m));break}throw new Error(`unexpected op: ${f}`)}}if(k.length>0){let a=k[0].dt,f=k[0].x,m=k[0].y,y=k[0].v;if(a<1)throw new Error("invalid dt");if(k.some(p=>p.dt!==a))throw new Error("time travels must all have the same dt");if(k.some(p=>p.x===f&&p.y===m&&p.v!==y))throw new Error("ConflictingWarps");for(let p=0;p<=a;p++)l=r.pop()[0];for(let{x:p,y:g,v:M}of k)c(p,g,new C(M));r.push([l,void 0])}return[l,s]}e.step=n})(J||(J={}));function Nt(e,t){for(var n in t)e[n]=t[n];return e}function De(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var _ in t)if(_!=="__source"&&e[_]!==t[_])return!0;return!1}function We(e,t){this.props=e,this.context=t}(We.prototype=new D).isPureReactComponent=!0,We.prototype.shouldComponentUpdate=function(e,t){return De(this.props,e)||De(this.state,t)};var Fe=$.__b;$.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Fe&&Fe(e)};var It=$.__e;$.__e=function(e,t,n,_){if(e.then){for(var r,o=t;o=o.__;)if((r=o.__c)&&r.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t)}It(e,t,n,_)};var ze=$.unmount;function st(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(_){typeof _.__c=="function"&&_.__c()}),e.__c.__H=null),(e=Nt({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map(function(_){return st(_,t,n)})),e}function ut(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(_){return ut(_,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function de(){this.__u=0,this.t=null,this.__b=null}function ct(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function re(){this.u=null,this.o=null}$.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),ze&&ze(e)},(de.prototype=new D).__c=function(e,t){var n=t.__c,_=this;_.t==null&&(_.t=[]),_.t.push(n);var r=ct(_.__v),o=!1,s=function(){o||(o=!0,n.__R=null,r?r(l):l())};n.__R=s;var l=function(){if(!--_.__u){if(_.state.__a){var u=_.state.__a;_.__v.__k[0]=ut(u,u.__c.__P,u.__c.__O)}var c;for(_.setState({__a:_.__b=null});c=_.t.pop();)c.forceUpdate()}};_.__u++||32&t.__u||_.setState({__a:_.__b=_.__v.__k[0]}),e.then(s,s)},de.prototype.componentWillUnmount=function(){this.t=[]},de.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),_=this.__v.__k[0].__c;this.__v.__k[0]=st(this.__b,n,_.__O=_.__P)}this.__b=null}var r=t.__a&&ye(j,null,e.fallback);return r&&(r.__u&=-33),[ye(j,null,t.__a?null:e.children),r]};var qe=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};(re.prototype=new D).__a=function(e){var t=this,n=ct(t.__v),_=t.o.get(e);return _[0]++,function(r){var o=function(){t.props.revealOrder?(_.push(r),qe(t,e,_)):r()};n?n(o):o()}},re.prototype.render=function(e){this.u=null,this.o=new Map;var t=se(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},re.prototype.componentDidUpdate=re.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,n){qe(e,n,t)})};var Lt=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Ht=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Bt=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Tt=/[A-Z0-9]/g,Rt=typeof document<"u",Ut=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};D.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(D.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var Oe=$.event;function Dt(){}function Wt(){return this.cancelBubble}function Ft(){return this.defaultPrevented}$.event=function(e){return Oe&&(e=Oe(e)),e.persist=Dt,e.isPropagationStopped=Wt,e.isDefaultPrevented=Ft,e.nativeEvent=e};var zt={enumerable:!1,configurable:!0,get:function(){return this.class}},Ve=$.vnode;$.vnode=function(e){typeof e.type=="string"&&function(t){var n=t.props,_=t.type,r={};for(var o in n){var s=n[o];if(!(o==="value"&&"defaultValue"in n&&s==null||Rt&&o==="children"&&_==="noscript"||o==="class"||o==="className")){var l=o.toLowerCase();o==="defaultValue"&&"value"in n&&n.value==null?o="value":o==="download"&&s===!0?s="":l==="translate"&&s==="no"?s=!1:l==="ondoubleclick"?o="ondblclick":l!=="onchange"||_!=="input"&&_!=="textarea"||Ut(n.type)?l==="onfocus"?o="onfocusin":l==="onblur"?o="onfocusout":Bt.test(o)?o=l:_.indexOf("-")===-1&&Ht.test(o)?o=o.replace(Tt,"-$&").toLowerCase():s===null&&(s=void 0):l=o="oninput",l==="oninput"&&r[o=l]&&(o="oninputCapture"),r[o]=s}}_=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=se(n.children).forEach(function(u){u.props.selected=r.value.indexOf(u.props.value)!=-1})),_=="select"&&r.defaultValue!=null&&(r.value=se(n.children).forEach(function(u){u.props.selected=r.multiple?r.defaultValue.indexOf(u.props.value)!=-1:r.defaultValue==u.props.value})),n.class&&!n.className?(r.class=n.class,Object.defineProperty(r,"className",zt)):(n.className&&!n.class||n.class&&n.className)&&(r.class=r.className=n.className),t.props=r}(e),e.$$typeof=Lt,Ve&&Ve(e)};var je=$.__r;$.__r=function(e){je&&je(e),e.__c};var Xe=$.diffed;$.diffed=function(e){Xe&&Xe(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value)};var Ye=function(e,t){return e(t)};function qt({width:e,height:t,draw:n,getCellContent:_,step:r}){const o=St(null),[s,l]=U(null),[u,c]=U(null);return rt(()=>{const b=o.current;if(!b)return;const d=b.getContext("2d");d&&n(d)},[n,r]),A("div",{style:{position:"relative"},children:[A("canvas",{ref:o,width:e,height:t,onMouseMove:b=>{const d=o.current;if(!d)return;const[k,x,S,a]=te(r[0]),f=Math.max(k,x),m=Math.floor(F/f),y=Math.floor((F-x*m)/2),p=Math.floor((F-k*m)/2),g=d.getBoundingClientRect(),M=b.clientX-g.left,B=b.clientY-g.top,T=Math.floor((M-p)/m)+S,H=Math.floor((B-y)/m)+a;if(S<=T&&T<S+k&&a<=H&&H<x){const W=_(T,H);l(W||null)}c({x:M,y:B})},onMouseLeave:()=>{l(null),c(null)}}),s&&u&&A("div",{style:{position:"absolute",left:`${u.x+10}px`,top:`${u.y+10}px`,background:"white",border:"1px solid black",padding:"2px",zIndex:1e3},children:s})]})}const F=480;function Ot(e){const{board:t}=e,[n,_]=te(t),r=e.edit?0:void 0,o=Ct(t).map((l,u)=>{const c=l.map((v,i)=>{const b=v.toString();return A("td",{"data-x":i,"data-y":u,tabindex:r,children:b})});return A("tr",{children:c})});function s(l){var b,d,k,x,S,a,f,m,y;const u=l.target;if(u.tagName!=="TD")return;l.preventDefault();let[c,v]=[parseInt(u.dataset.x),parseInt(u.dataset.y)];const i=u.parentElement.parentElement;switch(l.key){case"ArrowUp":(d=(b=i.rows[v-1])==null?void 0:b.cells[c])==null||d.focus();break;case"ArrowDown":(x=(k=i.rows[v+1])==null?void 0:k.cells[c])==null||x.focus();break;case"ArrowLeft":(a=(S=i.rows[v])==null?void 0:S.cells[c-1])==null||a.focus();break;case"ArrowRight":(m=(f=i.rows[v])==null?void 0:f.cells[c+1])==null||m.focus();break}if(e.edit){let p;switch(l.key){case"a":p=w.A;break;case"b":p=w.B;break;case"s":p=w.Solve;break;case"~":{const g=(y=t.get(`${c},${v}`))==null?void 0:y.value;typeof g=="bigint"&&(p=-g);break}case"Backspace":p=w.Empty;break;case"ArrowDown":(v=_)&&(p=w.Empty,v+=1);break;case"ArrowRight":(c=n)&&(p=w.Empty,c+=1);break;default:lt.has(l.key)&&(p=l.key),l.key>="0"&&l.key<="9"&&(p=BigInt(l.key))}p!==void 0&&e.edit(c,v,new C(p))}}return A("table",{class:"grid",onKeyDown:s,children:A("tbody",{children:o})})}function Vt(){const[e,t]=U(0),[n,_]=U(0),[r,o]=U(Re(decodeURIComponent(".%20.%20.%20.%20.%20.%2020%0A.%20.%20A%20.%20.%20.%20%3D%20.%20>%0A.%201%20%3D%20.%20.%20%5E%20.%20.%206%20%40%20-10%0A.%201%20S%20.%20<%201%20>%20.%20.%203%0A.%20%23%20.%20%2B%20.%20.%20.%20*%0A%5E%20.%20.%203%20>%20.%20%5E%20.%20>%0A7%20.%20-2%20%40%203%20v%201%20.%203%20%40%200%0A.%20.%20<%20.%20<%201%20*%20.%20.%203%20A%0A1%20*%20.%20.%20-20%20.%20.%20.%200%200%20%3D%0A.%20.%20.%201%20*%20.%20%2F%20.%20-%20.%20S%0A-4%20%40%203%20v%0A.%203%20.%20.%20>%20.%20.%208%20%40%20-4%20A%0A.%20.%20.%20.%20A%20*%2025%20.%203%20-1%20%3D%0A.%20>%20.%20%2F%20.%2040%20*%20.%20>%20.%20S%0A%5E%20.%20v%20S%202%20%40%20.%20*%20.%20*%0A0%20.%20.%20.%20.%203%20%5E%0A.%20-6%20%40%208%205%20>%20.%20.%209%20%40%208%0A.%20.%203%20.%20.%20.%20.%20.%20.%203"))),[s,l]=te(r),[u,c]=U(""),[v,i]=U(0),[b,d]=U(0),[k,x]=U([p()]),[S,a]=U(p());function f(h){window.history.replaceState(null,"","?"+encodeURIComponent(Ue(h))),o(h),i(0),d(0);const P=p();x([P]),a(P)}function m(h,P,E){r.set(`${h},${P}`,E),f(r)}rt(()=>{const h=p();x([h]),a(h)},[e,n]);function y(h,P){const E=parseInt(h.target.value,10);isNaN(E)||(P(E),i(0),c(""))}function p(){return[J.initialize(r,e,n),void 0]}function g(h){y(h,t)}function M(h){y(h,_)}const B=h=>{const[P,E,q,Y]=te(S[0]),G=Math.max(P,E),N=Math.floor(F/G),ne=N*G,Z=Math.floor((F-E*N)/2),K=Math.floor((F-P*N)/2);h.clearRect(K,Z,ne,ne),h.strokeStyle="#000",h.lineWidth=1;for(let R=0;R<=P;R++)h.beginPath(),h.moveTo(K+R*N+.5,Z),h.lineTo(K+R*N+.5,Z+N*E),h.stroke();for(let R=0;R<=E;R++)h.beginPath(),h.moveTo(K,Z+R*N+.5),h.lineTo(K+N*P,Z+R*N+.5),h.stroke();h.font="16px Arial",h.textAlign="center",h.textBaseline="middle";for(const[R,pt]of S[0]){const[dt,ht]=R.split(",").map(Number);let fe=pt.toString();h.measureText(fe).width>N-2&&(fe="…"),h.fillText(fe,K+(dt-q)*N+N/2,Z+(ht-Y)*N+N/2)}};function T(){i(h=>{let P;if(k.length>h+1)P=k[h+1],d(E=>E+1);else try{P=J.step(h,k),k.length==h+1?x(E=>[...E,P]):(h=k.length-2,x(k)),d(E=>E+1)}catch(E){Ye(()=>{c("Error: "+E.message)}),P=k[h],h--}return a(P),typeof P[1]=="bigint"?Ye(()=>{c("Result: "+P[1])}):c(""),h+1})}function H(){v!=0&&(d(h=>h-1),i(h=>(h--,a(k[h]),h)),c(""))}function W(){let h=v,P=b,E=[...k],q=S,Y="";for(let G=0;G<100;G++){let N;if(E.length>h+1)N=E[h+1],P++;else try{N=J.step(h,E),E.length==h+1?E.push(N):h=E.length-2,P++}catch(ne){Y="Error: "+ne.message,N=E[h];break}if(h++,typeof N[1]=="bigint"){Y="Result: "+N[1];break}if(Pt(q[0],N[0])){Y="Error: nothing to reduce";break}q=N}i(h),d(P),x(E),a(q),c(Y)}function at(h){h.preventDefault();const E=h.target.elements.namedItem("text").value,q=Re(E);f(q)}const ft=(h,P)=>{const E=S[0].get(`${h},${P}`);return E?E.toString():void 0};return A(j,{children:A("div",{class:"container",children:[A("div",{class:"left-block",children:[A("form",{onSubmit:at,children:[A("textarea",{name:"text",rows:l,cols:s*2,children:Ue(r)}),A("br",{}),A("input",{class:"load-button",type:"submit",value:"load"})]}),A("p",{children:[A("label",{children:["A: ",A("input",{size:4,id:"a",value:e,onInput:g})]}),A("br",{}),A("br",{}),A("label",{children:["B: ",A("input",{size:4,id:"b",value:n,onInput:M})]})]})]}),A("div",{class:"mid-block",children:A(Ot,{board:r,edit:m})}),A("div",{class:"right-block",children:[A(qt,{width:F,height:F,draw:B,getCellContent:ft,step:S}),A("div",{class:"button-group",children:[A("button",{onClick:H,children:"Step <"}),A("button",{onClick:T,children:"Step >"}),A("button",{onClick:W,children:"Run / Stop"})]}),A("p",{children:["Universal Time = ",v,"; Local Time = ",b]}),A("p",{children:u})]})]})})}kt(A(Vt,{}),document.getElementById("app"));
